!function(){"use strict";Element.prototype.hasClass=function(e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(this.className)},Element.prototype.addClass=function(e){this.hasClass(e)||(this.className=this.className?this.className+" "+e:e)},Element.prototype.removeClass=function(e){this.hasClass(e)&&(this.className=this.className.split(e).join("").replace(/\s\s+/g," "))},Element.prototype.isDescendant=function(e){return function e(t,n){return t===n||!!t.parentNode&&e(t.parentNode,n)}(this,e)},window.getMouse=function(e){var t=0;t=e.touches?e.touches[0].pageY:e.clientY;return{x:e.touches?e.touches[0].pageX:e.clientX,y:t}}}(),function(){"use strict";/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream;var t=document.querySelector(".form-group-multiple");function e(){t.addClass("active")}function n(e){e.target.isDescendant(t)||t.removeClass("active")}t.addEventListener("mousedown",e),t.addEventListener("touchstart",e),window.addEventListener("mousedown",n),window.addEventListener("touchstart",n);var o=document.querySelector(".nav-container");Scrollbar.use(window.OverscrollPlugin),Scrollbar.init(o,{plugins:{overscroll:{}}});var i=Array.prototype.slice.call(document.querySelectorAll(".nav-multiple li"));i.filter(function(o,e){function t(e){var t,n;o.active=!o.active,o.active?o.addClass("active"):o.removeClass("active"),t=i.filter(function(e){return e.active}).map(function(e){return e.querySelector("span").innerHTML}),(n=document.querySelector('input[name="Brands"]')).value=0<t.length?t.join(", "):null,console.log("setValue",t,n.value)}function n(e){o.removeEventListener("touchstart",r),t()}function r(e){o.removeEventListener("mousedown",n),t()}o.addEventListener("mousedown",n),o.addEventListener("touchstart",r)})}(),function(){"use strict";var u,c,n,r,A=!1,t=-1<navigator.userAgent.toLowerCase().indexOf("android"),i=-1!==navigator.platform.toLowerCase().indexOf("mac"),o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),e=t,l=15,d={pow:0,end:0,endTime:0,previous:0,direction:0,diff:0,index:0},M=window.PointerEvent?{passive:!1,capture:!0}:void 0,s=document.querySelector("body"),v=document.querySelector(".page"),p=document.querySelector(".section-overview"),m=document.querySelector(".preload .percent"),f=document.querySelector(".track"),w=document.querySelector(".steps"),y=document.querySelector(".player-time"),h=document.querySelector(".marker-time"),g=Array.prototype.slice.call(document.querySelectorAll("[scroll-to]")),L=Array.prototype.slice.call(document.querySelectorAll("[data-marker]")).map(function(t,o){function n(e){var t=1<Math.abs(d.index-o);if(te(o,t),t){var n=1/C.player.duration;d.pow=d.end-n}return e.preventDefault(),e.stopImmediatePropagation(),!1}function r(e){return t.removeEventListener("touchstart",i),n(e)}function i(e){return A=!0,t.removeEventListener("mousedown",r),n(e)}return t.addEventListener("mousedown",r),t.addEventListener("touchstart",i),parseFloat(t.getAttribute("data-marker"))}),S={source:window.options.disc,video:document.querySelector(".overview-disc .video"),pictures:document.querySelector(".overview-disc .pictures"),captionItems:Array.prototype.slice.call(document.querySelectorAll(".overview-disc .captions-item")),images:[]},q={source:window.options.rim,video:document.querySelector(".overview-rim .video"),pictures:document.querySelector(".overview-rim .pictures"),captionItems:Array.prototype.slice.call(document.querySelectorAll(".overview-rim .captions-item")),images:[]};u=window.options.fps,c=window.options.frames,n=c/u,e&&(u=10,c=502);var C=null,E=function(){function t(e){if(P){var t=g.filter(function(e,t){var n=e.getAttribute("href"),o=document.querySelector(n);if(e.removeClass("active"),o){var r=o.offsetTop-r;return e.top=r,!0}return!1}).reduce(function(e,t){return Math.abs(t.top)<Math.abs(e.top)&&t.top<80?t:e});t&&t.addClass("active")}}{if(o)return!(window.onscroll=function(e){t(z())});Scrollbar.use(window.OverscrollPlugin);var e=Scrollbar.init(v,{plugins:{overscroll:{}}});return e.addListener(function(e){e.offset,e.limit,v.offsetWidth,v.offsetHeight;t(z())}),e}}(),T=!1,P=!1,I=!1;function D(){s.addClass("loading"),T=!0,e?(s.addClass("use-pictures"),S.player=S.pictures,S.player.currentTime=0,S.player.duration=n,S.player.play=S.player.pause=function(){},S.player.setTime=function(){var e=Math.max(1,Math.min(c,Math.round(S.player.currentTime*u)));S.player.index!==e&&(S.player.index=e,S.player.src=S.images[e])},q.player=q.pictures,q.player.currentTime=0,q.player.duration=n,q.player.play=q.player.pause=function(){},q.player.setTime=function(){var e=Math.max(1,Math.min(c,Math.round(q.player.currentTime*u)));q.player.index!==e&&(q.player.index=e,q.player.src=q.images[e])},function(){var i=2*c,a=0,e=0,s=[];function u(){for(;s.length<l&&e<i;)s.push(!0),t(++e)}function t(e){var t=new XMLHttpRequest,n=e,o=e,r=S;c<o&&(r=q,n=o-=c),o<10?n="00"+o:o<100&&(n="0"+o),t.open("GET",r.source.jpg.split("{0}").join(n),!0),t.responseType="blob",t.onload=function(){if(200===this.status){var e=this.response,t=URL.createObjectURL(e);r.images[o]=t,a++,s.shift(),x(a,i),a===i?(C.player.setTime(),k()):u()}},t.onerror=function(e){console.log("preload.error",e)},t.send()}u()}()):(s.addClass("use-video"),S.player=S.video,S.player.setTime=function(){},q.player=q.video,q.player.setTime=function(){},b(S,function(){b(q,function(){!function(){if(t)k();else{var e=C.video.play();void 0!==e?e.then(function(){k()}).catch(function(e){console.log("video.error",e,C.video.error)}):k()}}()})}))}function x(e,t){var n=parseInt(100*(e/t));m&&m.setAttribute("style","width:"+n+"%;")}function b(n,o){var e=new XMLHttpRequest;e.open("GET",a&&!i?n.source.webm:n.source.mp4,!0),e.responseType="blob",e.onprogress=function(e){x(e.loaded,e.total)},e.onload=function(){if(200===this.status){var e=this.response,t=URL.createObjectURL(e);n.video.addEventListener("progress",function(e){},!1),n.video.addEventListener("error",function(e){console.log("video.error",e,n.video.error)}),n.video.autoplay=!0,n.video.mute=!0,n.video.src=t,o&&o()}},e.onerror=function(e){console.log("preload.error",e)},e.send()}function k(){P=!(T=!1),s.removeClass("loading"),s.addClass("loaded"),s.addClass("submenu"),d.pow=d.end=0,0,r=null,C.video.pause(),w&&function(){for(var e=0;e<L.length;e++){var t='<div class="step" style="top:'+(L[e]/n*100).toFixed(3)+'%"></div>';w.innerHTML+=t}}(),console.log(C.video.duration),te(1)}function H(){C.player.paused||C.player.pause()}function O(e){if(e.player&&e.player.duration){if(J)H(),d.pow=d.end,e.player.currentTime=d.pow*e.player.duration,e.player.setTime();else if(d.end!==d.pow){H();var t=d.end-d.pow,n=1/u;if(Math.abs(t*e.player.duration)<n)d.pow=d.end;else{var o=t?t/Math.abs(t):0;d.pow+=n*o/e.player.duration}var r=Math.round(d.pow*e.player.duration/n)*n+1e-5;e.player.currentTime=r,e.player.setTime()}R(y,d.pow),a=d.pow,s=0,L.filter(function(e,t){e<=a*C.player.duration&&(s=t)}),N!==s&&(N=s,Array.prototype.slice.call(document.querySelectorAll("[data-marker]")).filter(function(e,t){t===N?e.addClass("active"):e.removeClass("active")})),i=d.direction,C.captionItems.filter(function(e,t){var n=L[t]-d.pow*C.player.duration;2<Math.abs(n)?e.setAttribute("class","captions-item"):0<i?e.setAttribute("class","captions-item "+(-.1<n?"entering":"exiting")):i<0&&e.setAttribute("class","captions-item "+(n<.1?"entering":"exiting"))})}var i,a,s}var N=-1;function R(e,n){if(e&&C.player.duration){var t,o,r=0;L.filter(function(e,t){e<=n*C.player.duration&&(r=t)}),t=L[r]/C.player.duration,o=r<L.length-1?L[r+1]/C.player.duration:t;var i=30+60*r+60*(n=t!==o?(n-t)/(o-t):0);e.setAttribute("style","top:"+(i-10)+"px;")}}var U=window.peformance?performance:Date,X=1e3/u,j=0,Y=0,F=0;function G(){j=U.now(),X<(F=j-Y)&&(Y=j-F%X,O(S),O(q),(o||t)&&p.setAttribute("style","width: "+window.innerWidth+"px; height: "+(window.innerHeight-57)+"px;")),requestAnimationFrame(G)}function W(e){if(P&&!I){if(e.preventDefault(),e.stopImmediatePropagation(),"step"===e.target.getAttribute("class"))te(Array.prototype.slice.call(e.target.parentNode.children).indexOf(e.target));return!1}}function B(e){var t=0;return t=e.touches?e.touches[0].pageY:e.clientY,Math.max(0,Math.min(window.innerHeight,t))}function z(){return E?E.offset.y:window.pageYOffset}function V(e){var t=z(),n=d.pow<1&&1===e||t<10&&-1===e;return n?s.addClass("locked"):s.removeClass("locked"),n}var $,J=!1,K=0;function Q(e){if(z()<10){var t=B(e);$=null,r=t,K=d.end||0}}function Z(e){if(I)r=$=null;else if(r){var t=0;if(P){var n=B(e);if($=n,1<Math.abs(r-n)){var o=(r-n)/(3*window.innerHeight);d.end=Math.max(0,Math.min(1,K+o)),J=!0}t=0<n-r?-1:1}if(!P||V(t))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}}function _(e){if(J&&P){var t=r-$;if(t){var n=t/Math.abs(t),o=d.end*C.player.duration;L.filter(function(e,t){e<o&&o<L[t+1]&&(d.index=t+(0<n?0:1))}),ne(n)}}J=!1,r=null}function ee(e){var t=e.deltaY/Math.abs(e.deltaY);if(P&&ne(t),!P||V(t))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}function te(e,t){if(e!==d.index){var n=(e-d.index)/Math.abs(e-d.index),o=L[d.index],r=L[e],i=d.pow*C.player.duration;(t||i>=Math.min(o,r)&&i<=Math.max(o,r))&&(d.index=e,d.endTime=L[d.index],d.direction=n,d.end=d.endTime/C.player.duration,R(h,d.end))}}function ne(e){d.index;te(1===e?Math.min(L.length-1,d.index+1):Math.max(0,d.index-1))}function oe(e){!function(){f&&f.removeEventListener("touchstart",W);p.removeEventListener("touchstart",re),p.removeEventListener("touchmove",Z),p.removeEventListener("touchend",_)}(),Q(e)}function re(e){A=!0,function(){f&&f.removeEventListener("mousedown",W);p.removeEventListener("mousedown",oe),p.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",_)}(),Q(e)}var ie;Array.prototype.slice.call(document.querySelectorAll("img.svg")).map(function(n){var o=n.getAttribute("class"),e=n.getAttribute("src"),t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="text",t.onload=function(){if(200===this.status){var e=n.parentNode;e.innerHTML=this.responseText;var t=e.querySelector("svg");t.setAttribute("class",o),t.setAttribute("xmlns:a",null)}},t.onerror=function(e){console.log("svg.error",e)},t.send()}),function(){var e=document.querySelector(".switch-loading");if(e){var t=e.innerHTML;e.innerHTML="<span>"+t.split("").join("</span><span>")+"</span>"}}(),g.filter(function(i,e){i.addEventListener("click",function(e){var t=document.querySelector(".btn-toggle");t.active=!1,s.removeClass("submenu-active"),t.removeClass("active");var n=i.getAttribute("href"),o=document.querySelector(n);if(o){var r=o.offsetTop;E.scrollTo(0,r,600,{callback:function(){}})}return e.preventDefault(),e.stopImmediatePropagation(),!1})}),function(){var o,r,e=document.querySelector(".overview-switch"),a=document.querySelector(".switch-slider"),s=document.querySelector(".overview-disc"),u=document.querySelector(".overview-rim"),c=s.querySelector(".cover"),l=u.querySelector(".cover"),d=a.offsetWidth,v={x:0,y:0},n={x:0,y:0},p=0,m=50;function f(){if(a.setAttribute("style","transform: translateX("+v.x*d/2+"px)"),A){var e=v.x/2+.5;e=Math.min(1,Math.max(0,e)),s.setAttribute("style","opacity:"+e+";"),u.setAttribute("style","opacity:"+(1-e)+";")}else{var t=function(e){e=e/2+.5;var t=100*(e=Math.min(1,Math.max(0,e)));return Math.abs(t-m)<.1?m=t:m+=(t-m)/20,{rim:"polygon("+t+"% 0, 100% 0, 100% 100%, "+m+"% 100%)",disc:"polygon(0 0, "+t+"0.01% 0, "+m+"0.01% 100%, 0 100%)"}}(v.x);s.setAttribute("style","shape-inside: "+t.disc+"; clip-path: "+t.disc+"; -webkit-clip-path: "+t.disc+";"),u.setAttribute("style","shape-inside: "+t.rim+"; clip-path: "+t.rim+"; -webkit-clip-path: "+t.rim+";");var n=1.1-(v.x+1)/2*.1,o=1+(v.x+1)/2*.1,r=20*(v.x<0?Math.abs(v.x):0)+"px",i=20*(0<v.x?Math.abs(v.x):0)+"px";c.setAttribute("style","transform: scale("+n+"); filter: blur("+r+");"),l.setAttribute("style","transform: scale("+o+"); filter: blur("+i+");")}}function t(e){if(console.log("switcher.onDown"),!T)return I=!0,n.x=v.x,n.y=v.y,o=getMouse(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}function i(e){if(o){r=getMouse(e);var t=n.x+(r.x-o.x)/(d/2);return t=Math.max(-1,Math.min(1,t)),p=t>v.x?1:-1,v.x=t,f(),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}}!function e(){f(),requestAnimationFrame(e)}(),window.addEventListener("mousemove",i);var w=[-1,0,1];function y(e){if(r){o=r=null;var t=w.reduce(function(e,t){return Math.abs(e-v.x)<Math.abs(t-v.x)?e:t});console.log("switcher.onUp",t);var n=!1;0!==t&&3===w.length&&(w=[-1,1],n=!0),2==w.length&&(C=-1===t?q:S),p=t>v.x?1:-1,TweenLite.to(v,1,{x:t,ease:Elastic.easeOut,onUpdate:f,onComplete:function(){n&&D(),I=!1}})}else I=!1;window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",y)}e.addEventListener("mousedown",function(e){t(e),window.addEventListener("mousemove",i,M),window.addEventListener("mouseup",y,M)},M),e.addEventListener("touchstart",function(e){A=!0,t(e),window.addEventListener("touchmove",i,M),window.addEventListener("touchend",y,M)},M),window.addEventListener("resize",function(){d=a.offsetWidth,f()});var h=0,g=!1,L=Array.prototype.slice.call(document.querySelectorAll(".btn-overview"));function E(e){I||T||P||g||0===h||(g=!0,C=1===(p=h)?S:q,w=[-1,1],TweenLite.to(v,1,{x:p,ease:Elastic.easeOut,onUpdate:f,onComplete:function(){P||(h=0,D())}})),window.removeEventListener("touchstart",b),window.removeEventListener("mousedown",x)}function x(e){return window.removeEventListener("touchstart",b),E()}function b(e){return A=!0,window.removeEventListener("mousedown",x),E()}L.filter(function(t,n){function o(e){return T||0!==h||(g=!0,p=1===n?1:-1,C=1===n?S:q,w=[-1,1],TweenLite.to(v,1,{x:p,ease:Elastic.easeOut,onUpdate:f,onComplete:function(){P||D()}})),e.preventDefault(),e.stopImmediatePropagation(),!1}function r(e){return t.removeEventListener("touchstart",i),o(e)}function i(e){return A=!0,t.removeEventListener("mousedown",r),o(e)}t.addEventListener("mousedown",r),t.addEventListener("touchstart",i)}),window.addEventListener("mousemove",function e(t){if(I||T||P||g)window.removeEventListener("mousemove",e);else{var n=L[0].getBoundingClientRect(),o=L[1].getBoundingClientRect(),r=0;t.clientX>o.left?r=1:t.clientX<n.right&&(r=-1),h!==r&&(C=1===(h=r)?S:q,TweenLite.to(v,1,{x:.2*r,ease:Elastic.easeOut,onUpdate:f,onComplete:function(){}}))}}),window.addEventListener("mousedown",x),window.addEventListener("touchstart",b)}(),(ie=new Swiper(".swiper-container",{direction:"horizontal",loop:!1,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})).on("slideChange",function(e){Array.prototype.slice.call(document.querySelectorAll(".btn-spec")).filter(function(e,t){t===ie.activeIndex?e.addClass("active"):e.removeClass("active")})}),Array.prototype.slice.call(document.querySelectorAll(".btn-spec")).filter(function(e,t){e.addEventListener("click",function(){ie.slideTo(t)})}),function(){var t=document.querySelector(".btn-toggle");function n(e){return t.active=!t.active,t.active?(s.addClass("submenu-active"),t.addClass("active")):(s.removeClass("submenu-active"),t.removeClass("active")),e.preventDefault(),e.stopImmediatePropagation(),!1}function o(e){return t.removeEventListener("touchstart",r),n(e)}function r(e){return A=!0,t.removeEventListener("mousedown",o),n(e)}t.addEventListener("mousedown",o),t.addEventListener("touchstart",r)}(),window.addEventListener("touchstart",function e(t){console.log("onTestTouch",t),A=!0,window.removeEventListener("touchstart",e)}),window.requestAnimationFrame(G),f&&f.addEventListener("mousedown",W,M),p.addEventListener("mousedown",oe,M),p.addEventListener("mousemove",Z,M),p.addEventListener("wheel",ee),window.addEventListener("mouseup",_,M),f&&f.addEventListener("touchstart",W,M),p.addEventListener("touchstart",re,M),p.addEventListener("touchmove",Z,M),p.addEventListener("touchend",_,M)}();
//# sourceMappingURL=app.min.js.map
