!function(){"use strict";Element.prototype.hasClass=function(e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(this.className)},Element.prototype.addClass=function(e){this.hasClass(e)||(this.className=this.className?this.className+" "+e:e)},Element.prototype.removeClass=function(e){this.hasClass(e)&&(this.className=this.className.split(e).join("").replace(/\s\s+/g," "))},Element.prototype.isDescendant=function(e){return function e(t,n){return t===n||!!t.parentNode&&e(t.parentNode,n)}(this,e)},window.getMouse=function(e){var t=0;t=e.touches?e.touches[0].pageY:e.clientY;return{x:e.touches?e.touches[0].pageX:e.clientX,y:t}}}(),function(){"use strict";var t=document.querySelector(".form-group-multiple");function e(){t.addClass("active")}function n(e){e.target.isDescendant(t)||t.removeClass("active")}t.addEventListener("mousedown",e),t.addEventListener("touchstart",e),window.addEventListener("mousedown",n),window.addEventListener("touchstart",n);var r=document.querySelector(".nav-container");Scrollbar.use(window.OverscrollPlugin);Scrollbar.init(r,{plugins:{overscroll:{}}});var i=Array.prototype.slice.call(document.querySelectorAll(".nav-multiple li"));i.filter(function(r,e){function t(e){var t,n;r.active=!r.active,r.active?r.addClass("active"):r.removeClass("active"),t=i.filter(function(e){return e.active}).map(function(e){return e.querySelector("span").innerHTML}),(n=document.querySelector('input[name="Brands"]')).value=0<t.length?t.join(", "):null,console.log("setValue",t,n.value)}function n(e){r.removeEventListener("touchstart",o),t()}function o(e){r.removeEventListener("mousedown",n),t()}r.addEventListener("mousedown",n),r.addEventListener("touchstart",o)})}(),function(){"use strict";var u,n,r,o,t=-1!==navigator.platform.toUpperCase().indexOf("MAC"),i=(/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),e=!1,s=15,c={pow:0,end:0,endTime:0,previous:0,direction:0,diff:0,index:0},a=document.querySelector("body"),l=document.querySelector(".page"),d=document.querySelector(".section-overview"),p=document.querySelector(".preload .percent"),v=document.querySelector(".track"),m=document.querySelector(".steps"),f=document.querySelector(".player-time"),y=document.querySelector(".marker-time"),w=Array.prototype.slice.call(document.querySelectorAll("[scroll-to]")),h=Array.prototype.slice.call(document.querySelectorAll("[data-marker]")).map(function(t,r){function n(e){var t=1<Math.abs(c.index-r);if(K(r,t),t){var n=1/E.player.duration;c.pow=c.end-n}return e.preventDefault(),e.stopImmediatePropagation(),!1}function o(e){return t.removeEventListener("touchstart",i),n(e)}function i(e){return t.removeEventListener("mousedown",o),n(e)}return t.addEventListener("mousedown",o),t.addEventListener("touchstart",i),parseFloat(t.getAttribute("data-marker"))}),g={source:window.options.disc,video:document.querySelector(".overview-disc .video"),pictures:document.querySelector(".overview-disc .pictures"),captionItems:Array.prototype.slice.call(document.querySelectorAll(".overview-disc .captions-item")),images:[]},L={source:window.options.rim,video:document.querySelector(".overview-rim .video"),pictures:document.querySelector(".overview-rim .pictures"),captionItems:Array.prototype.slice.call(document.querySelectorAll(".overview-rim .captions-item")),images:[]};u=window.options.fps,n=window.options.frames,r=n/u;var E=null,x=function(){Scrollbar.use(window.OverscrollPlugin);var t=Scrollbar.init(l,{plugins:{overscroll:{}}});return t.addListener(function(i){i.offset,i.limit,l.offsetWidth,l.offsetHeight,S||(0<i.offset.y?a.addClass("submenu"):a.removeClass("submenu"));var e=w.filter(function(e,t){var n=e.getAttribute("href"),r=document.querySelector(n);if(e.removeClass("active"),r){var o=r.offsetTop-i.offset.y;return e.top=o,!0}return!1}).reduce(function(e,t){return Math.abs(t.top)<Math.abs(e.top)&&t.top<80?t:e});e&&e.addClass("active")}),t.onScrollbarShouldScrollTo=function(e){document.querySelector(e.selector)===l&&t.scrollTo(e.x||0,e.y||0,500)},t}(),b=!1,S=!1,M=!1;function q(){a.addClass("loading"),b=!0,e?(a.addClass("use-pictures"),g.player=g.pictures,g.player.currentTime=0,g.player.duration=r,g.player.play=g.player.pause=function(){},g.player.setTime=function(){var e=Math.max(1,Math.min(n,Math.round(g.player.currentTime*u)));g.player.index!==e&&(g.player.index=e,g.player.src=g.images[e])},L.player=L.pictures,L.player.currentTime=0,L.player.duration=r,L.player.play=L.player.pause=function(){},L.player.setTime=function(){var e=Math.max(1,Math.min(n,Math.round(L.player.currentTime*u)));L.player.index!==e&&(L.player.index=e,L.player.src=L.images[e])},function(){var r=n,o=0,e=0,i=[];function a(){for(;i.length<s&&e<r;)i.push(!0),t(++e)}function t(n){var e=new XMLHttpRequest;e.open("GET",E.source.jpg.split("{0}").join(n),!0),e.responseType="blob",e.onload=function(){if(200===this.status){var e=this.response,t=URL.createObjectURL(e);images[n]=t,o++,i.shift(),A(o,r),o===r?(E.player.setTime(),C()):a()}},e.onerror=function(e){console.log("preload.error",e)},e.send()}a()}()):(a.addClass("use-video"),g.player=g.video,g.player.setTime=function(){},L.player=L.video,L.player.setTime=function(){},T(g,function(){T(L,function(){var e;void 0!==(e=E.video.play())?e.then(function(){C()}).catch(function(e){console.log("video.error",e,E.video.error)}):C()})}))}function A(e,t){var n=parseInt(100*(e/t));p&&p.setAttribute("style","width:"+n+"%;")}function T(n,r){var e=new XMLHttpRequest;e.open("GET",i&&!t?n.source.webm:n.source.mp4,!0),e.responseType="blob",e.onprogress=function(e){A(e.loaded,e.total)},e.onload=function(){if(200===this.status){var e=this.response,t=URL.createObjectURL(e);n.video.addEventListener("progress",function(e){},!1),n.video.addEventListener("error",function(e){console.log("video.error",e,n.video.error)}),n.video.autoplay=!0,n.video.mute=!0,n.video.src=t,r&&r()}},e.onerror=function(e){console.log("preload.error",e)},e.send()}function C(){S=!(b=!1),a.removeClass("loading"),a.addClass("loaded"),a.addClass("submenu"),c.pow=c.end=0,0,o=null,E.video.pause(),m&&function(){for(var e=0;e<h.length;e++){var t='<div class="step" style="top:'+(h[e]/r*100).toFixed(3)+'%"></div>';m.innerHTML+=t}}(),function(){v&&v.addEventListener("mousedown",j,Z);d.addEventListener("mousedown",_,Z),d.addEventListener("mousemove",B,Z),d.addEventListener("wheel",$),window.addEventListener("mouseup",V,Z)}(),function(){v&&v.addEventListener("touchstart",j,Z);d.addEventListener("touchstart",ee,Z),d.addEventListener("touchmove",B,Z),d.addEventListener("touchend",V,Z)}(),window.onscroll=J,window.requestAnimationFrame(R),console.log(E.video.duration),K(1)}function P(e){if(e.player.duration){if(G)e.player.pause(),c.pow=c.end,e.player.currentTime=c.pow*e.player.duration,e.player.setTime();else if(c.end!==c.pow){e.player.paused||e.player.pause();var t=c.end-c.pow,n=1/u;if(Math.abs(t*e.player.duration)<n)c.pow=c.end;else{var r=t?t/Math.abs(t):0;c.pow+=n*r/e.player.duration}var o=Math.round(c.pow*e.player.duration/n)*n+1e-5;e.player.currentTime=o,e.player.setTime()}D(f,c.pow),a=c.pow,s=0,h.filter(function(e,t){e<=a*E.player.duration&&(s=t)}),I!==s&&(I=s,Array.prototype.slice.call(document.querySelectorAll("[data-marker]")).filter(function(e,t){t===I?e.addClass("active"):e.removeClass("active")})),i=c.direction,E.captionItems.filter(function(e,t){var n=h[t]-c.pow*E.player.duration;2<Math.abs(n)?e.setAttribute("class","captions-item"):0<i?e.setAttribute("class","captions-item "+(-.1<n?"entering":"exiting")):i<0&&e.setAttribute("class","captions-item "+(n<.1?"entering":"exiting"))})}var i,a,s}var I=-1;function D(e,n){if(e&&E.player.duration){var t,r,o=0;h.filter(function(e,t){e<=n*E.player.duration&&(o=t)}),t=h[o]/E.player.duration,r=o<h.length-1?h[o+1]/E.player.duration:t;var i=30+60*o+60*(n=t!==r?(n-t)/(r-t):0);e.setAttribute("style","top:"+(i-10)+"px;")}}var H=window.peformance?performance:Date,k=1e3/u,N=0,O=0,U=0;function R(){N=H.now(),k<(U=N-O)&&(O=N-U%k,P(g),P(L)),requestAnimationFrame(R)}function j(e){if(!M){if(e.preventDefault(),e.stopImmediatePropagation(),"step"===e.target.getAttribute("class"))K(Array.prototype.slice.call(e.target.parentNode.children).indexOf(e.target));return!1}}function X(e){var t=0;return t=e.touches?e.touches[0].pageY:e.clientY,Math.max(0,Math.min(window.innerHeight,t))}function Y(e){var t=!1;return(c.pow<1&&1===e||(!x||x.offset.y<10)&&-1===e)&&(t=!0),t}var F,G=!1,W=0;function z(e){if(x.offset.y<10){var t=X(e);F=null,o=t,W=c.end||0}}function B(e){if(M)o=F=null;else if(o){var t=X(e);if(F=t,1<Math.abs(o-t)){var n=(o-t)/(3*window.innerHeight);c.end=Math.max(0,Math.min(1,W+n)),G=!0}if(Y(0<t-o?-1:1))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}}function V(e){if(G){var t=o-F;if(t){var n=t/Math.abs(t),r=c.end*E.player.duration;h.filter(function(e,t){e<r&&r<h[t+1]&&(c.index=t+(0<n?0:1))}),Q(n)}}G=!1,o=null}function $(e){var t=e.deltaY/Math.abs(e.deltaY);if(Q(t),Y(t))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}function J(){D(y,c.end)}function K(e,t){if(e!==c.index){var n=(e-c.index)/Math.abs(e-c.index),r=h[c.index],o=h[e],i=c.pow*E.player.duration;(t||i>=Math.min(r,o)&&i<=Math.max(r,o))&&(c.index=e,c.endTime=h[c.index],c.direction=n,c.end=c.endTime/E.player.duration,D(y,c.end))}}function Q(e){c.index;K(1===e?Math.min(h.length-1,c.index+1):Math.max(0,c.index-1))}var Z=window.PointerEvent?{passive:!1,capture:!0}:void 0;function _(e){!function(){v&&v.removeEventListener("touchstart",j);d.removeEventListener("touchstart",ee),d.removeEventListener("touchmove",B),d.removeEventListener("touchend",V)}(),z(e)}function ee(e){!function(){v&&v.removeEventListener("mousedown",j);d.removeEventListener("mousedown",_),d.removeEventListener("mousemove",B),window.removeEventListener("mouseup",V)}(),z(e)}var te;Array.prototype.slice.call(document.querySelectorAll("img.svg")).map(function(n){var r=n.getAttribute("class"),e=n.getAttribute("src"),t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="text",t.onload=function(){if(200===this.status){var e=n.parentNode;e.innerHTML=this.responseText;var t=e.querySelector("svg");t.setAttribute("class",r),t.setAttribute("xmlns:a",null)}},t.onerror=function(e){console.log("svg.error",e)},t.send()}),function(){var e=document.querySelector(".switch-loading");if(e){var t=e.innerHTML;e.innerHTML="<span>"+t.split("").join("</span><span>")+"</span>"}}(),w.filter(function(i,e){i.addEventListener("click",function(e){var t=document.querySelector(".btn-toggle");t.active=!1,a.removeClass("submenu-active"),t.removeClass("active");var n=i.getAttribute("href"),r=document.querySelector(n);if(r){var o=r.offsetTop;x.scrollTo(0,o,600,{callback:function(){}})}return e.preventDefault(),e.stopImmediatePropagation(),!1})}),function(){var r,o,e=document.querySelector(".overview-switch"),i=document.querySelector(".switch-slider"),a=document.querySelector(".overview-disc"),s=document.querySelector(".overview-rim"),u=a.querySelector(".cover"),c=s.querySelector(".cover"),l=i.offsetWidth,d={x:0,y:0},n={x:0,y:0},p=0,v=50;function m(){i.setAttribute("style","transform: translateX("+d.x*l/2+"px)");var e=function(e){e=e/2+.5;var t=100*(e=Math.min(1,Math.max(0,e)));return Math.abs(t-v)<.1?v=t:v+=(t-v)/20,{rim:"polygon("+t+"% 0, 100% 0, 100% 100%, "+v+"% 100%)",disc:"polygon(0 0, "+t+"0.01% 0, "+v+"0.01% 100%, 0 100%)"}}(d.x);a.setAttribute("style","shape-inside: "+e.disc+"; clip-path: "+e.disc+"; -webkit-clip-path: "+e.disc+";"),s.setAttribute("style","shape-inside: "+e.rim+"; clip-path: "+e.rim+"; -webkit-clip-path: "+e.rim+";");var t=1.1-(d.x+1)/2*.1,n=1+(d.x+1)/2*.1,r=20*(d.x<0?Math.abs(d.x):0)+"px",o=20*(0<d.x?Math.abs(d.x):0)+"px";u.setAttribute("style","transform: scale("+t+"); filter: blur("+r+");"),c.setAttribute("style","transform: scale("+n+"); filter: blur("+o+");")}function t(e){if(!b)return M=!0,n.x=d.x,n.y=d.y,r=getMouse(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}function f(e){if(r){o=getMouse(e);var t=n.x+(o.x-r.x)/(l/2);return t=Math.max(-1,Math.min(1,t)),p=t>d.x?1:-1,d.x=t,m(),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}}!function e(){m(),requestAnimationFrame(e)}(),window.addEventListener("mousemove",f);var y=[-1,0,1];function w(e){if(o){r=o=null;var t=y.reduce(function(e,t){return Math.abs(e-d.x)<Math.abs(t-d.x)?e:t}),n=!1;0!==t&&3===y.length&&(y=[-1,1],n=!0),2==y.length&&(E=-1===t?L:g),p=t>d.x?1:-1,TweenLite.to(d,1,{x:t,ease:Elastic.easeOut,onUpdate:m,onComplete:function(){n&&q()}})}M=!1,window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",w),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",w)}e.addEventListener("mousedown",function(e){t(e),window.addEventListener("mousemove",f),window.addEventListener("mouseup",w)}),e.addEventListener("touchstart",function(e){t(e),window.addEventListener("touchmove",f),window.addEventListener("touchend",w)}),window.addEventListener("resize",function(){l=i.offsetWidth,m()});var h=!1;Array.prototype.slice.call(document.querySelectorAll(".btn-overview")).filter(function(t,n){var r=null;function o(e){return b||(h=!0,p=1===n?1:-1,r=E=1===n?g:L,y=[-1,1],TweenLite.to(d,1,{x:p,ease:Elastic.easeOut,onUpdate:m,onComplete:function(){S||q()}})),e.preventDefault(),e.stopImmediatePropagation(),!1}function i(e){return t.removeEventListener("touchstart",a),o(e)}function a(e){return t.removeEventListener("mousedown",i),o(e)}t.addEventListener("mouseover",function(e){b||S||h||(r=E,E=1===n?g:L,p=1===n?1:-1,TweenLite.to(d,1,{x:.2*p,ease:Elastic.easeOut,onUpdate:m,onComplete:function(){}}))}),t.addEventListener("mouseout",function(e){b||S||h||(E=r,p=0,TweenLite.to(d,1,{x:p,ease:Elastic.easeOut,onUpdate:m,onComplete:function(){}}))}),t.addEventListener("mousedown",i),t.addEventListener("touchstart",a)})}(),(te=new Swiper(".swiper-container",{direction:"horizontal",loop:!1,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})).on("slideChange",function(e){Array.prototype.slice.call(document.querySelectorAll(".btn-spec")).filter(function(e,t){t===te.activeIndex?e.addClass("active"):e.removeClass("active")})}),Array.prototype.slice.call(document.querySelectorAll(".btn-spec")).filter(function(e,t){e.addEventListener("click",function(){te.slideTo(t)})}),function(){var t=document.querySelector(".btn-toggle");function n(e){return t.active=!t.active,t.active?(a.addClass("submenu-active"),t.addClass("active")):(a.removeClass("submenu-active"),t.removeClass("active")),e.preventDefault(),e.stopImmediatePropagation(),!1}function r(e){return t.removeEventListener("touchstart",o),n(e)}function o(e){return t.removeEventListener("mousedown",r),n(e)}t.addEventListener("mousedown",r),t.addEventListener("touchstart",o)}()}();
//# sourceMappingURL=app.min.js.map
