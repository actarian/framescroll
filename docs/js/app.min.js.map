{"version":3,"sources":["docs/js/app.js"],"names":["Element","prototype","hasClass","name","RegExp","test","this","className","addClass","removeClass","split","join","replace","isDescendant","target","node","parentNode","window","getMouse","e","y","touches","pageY","clientY","x","pageX","clientX","navigator","userAgent","MSStream","formMultiple","document","querySelector","onMultiple","onDown","addEventListener","navContainer","Scrollbar","use","OverscrollPlugin","init","plugins","overscroll","options","Array","slice","call","querySelectorAll","filter","option","index","onToggle","brands","input","active","item","map","innerHTML","value","length","console","log","onMouseToggle","removeEventListener","onTouchToggle","fps","totalFrames","duration","mouseDownY","isTouch","isAndroid","toLowerCase","indexOf","isMac","platform","iOS","isChrome","vendor","isFirefox","isClippable","props","CSS","i","supports","detectClippath","useImages","concurrent","scrolling","pow","end","previous","direction","diff","eventOptions","PointerEvent","passive","capture","undefined","body","page","overview","preloadPercent","track","steps","playerTime","markerTime","scrolltos","markers","skip","Math","abs","setIndex","preventDefault","stopImmediatePropagation","onMouseDown","onTouchDown","parseFloat","getAttribute","disc","source","video","pictures","captionItems","images","rim","codecs","webm","mp4","frames","targetItem","scrollbar","onscroll","onScroll","addListener","offset","limit","offsetWidth","offsetHeight","onDidScroll","getOffsetY","InitScrollbar","isLoading","isLoaded","isSwitching","StartLoading","player","currentTime","play","pause","setTime","max","min","round","src","total","loaded","frame","requests","onCheckNextImage","push","onLoadNextImage","req","XMLHttpRequest","num","framenum","imageTarget","open","jpg","responseType","onload","status","blob","response","image","URL","createObjectURL","shift","setProgress","Init","onerror","send","PreloadImages","PreloadVideoTarget","promise","then","catch","error","InitVideo","percent","parseInt","setAttribute","callback","type","supported","MediaSource","isTypeSupported","onprogress","data","mediaSource","sourceBuffer","addSourceBuffer","updating","array","Uint8Array","appendBuffer","getMediaSource","autoplay","mute","html","toFixed","addSteps","onPause","paused","onLoop","mouseMove","step","setTop","markerIndex","marker","currentIndex","caption","distance","fpow","tpow","top","timeapi","peformance","performance","Date","fpsInterval","now","elapsed","animate","innerHeight","innerWidth","requestAnimationFrame","onTrack","children","getY","pageYOffset","documentElement","scrollTop","shouldLockScroll","offsetY","flag","previousY","scrubStart","onMove","stopPropagation","onUp","time","setNearestDirection","onWheel","wheelDirection","deltaY","previousMarker","nextMarker","removeTouchEvents","removeMouseEvents","swiper","activeNode","href","style","display","offsetTop","reduce","a","b","classes","responseText","svg","loading","letters","InitLoading","toggle","scrollTo","down","move","switcher","slider","discOverview","rimOverview","discCover","rimCover","width","start","x2","onUpdate","v","polygons","x1","getPolygons","s1","s2","positions","shouldLoad","TweenLite","to","ease","Power2","easeOut","onComplete","previousDirection","tapped","buttons","onHoveringDown","onHoveringTouchDown","onHoveringMouseDown","btn","onHovering","left","getBoundingClientRect","right","InitSwitcher","Swiper","loop","pagination","el","navigation","nextEl","prevEl","on","button","activeIndex","slideTo","InitMenu","onTestTouch"],"mappings":"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","file":"app.min.js","sourcesContent":["/* global window, document, console  */\n\n(function () {\n    'use strict';\n\n    Element.prototype.hasClass = function (name) {\n        return new RegExp(\"(?:^|\\\\s+)\" + name + \"(?:\\\\s+|$)\").test(this.className);\n    };\n\n    Element.prototype.addClass = function (name) {\n        if (!this.hasClass(name)) {\n            this.className = this.className ? (this.className + ' ' + name) : name;\n        }\n    };\n\n    Element.prototype.removeClass = function (name) {\n        if (this.hasClass(name)) {\n            this.className = this.className.split(name).join('').replace(/\\s\\s+/g, ' '); // .replace(new RegExp('(?:^|\\\\s+)' + name + '(?:\\\\s+|$)', 'g'), '');\n        }\n    };\n\n    Element.prototype.isDescendant = function (target) {\n        function isDescendant(node, target) {\n            if (node === target) {\n                return true;\n            } else if (node.parentNode) {\n                return isDescendant(node.parentNode, target);\n            } else {\n                return false;\n            }\n        }\n        return isDescendant(this, target);\n    };\n\n    window.getMouse = function (e) {\n        var y = 0.0;\n        if (e.touches) {\n            y = e.touches[0].pageY;\n        } else {\n            y = e.clientY;\n        }\n        var x = 0.0;\n        if (e.touches) {\n            x = e.touches[0].pageX;\n        } else {\n            x = e.clientX;\n        }\n        var mouse = {\n            x: x,\n            y: y\n        };\n        // console.log('getMouse', mouse);\n        return mouse;\n    };\n\n}());\n/* global window, document, console, TweenLite */\n\n(function () {\n    'use strict';\n\n    var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n    var formMultiple = document.querySelector('.form-group-multiple');\n\n    function onMultiple() {\n        formMultiple.addClass('active');\n    }\n\n    function onDown(e) {\n        if (!e.target.isDescendant(formMultiple)) {\n            formMultiple.removeClass('active');\n        }\n    }\n    formMultiple.addEventListener('mousedown', onMultiple);\n    formMultiple.addEventListener('touchstart', onMultiple);\n    window.addEventListener('mousedown', onDown);\n    window.addEventListener('touchstart', onDown);\n\n    var navContainer = document.querySelector('.nav-container');\n    Scrollbar.use(window.OverscrollPlugin);\n    Scrollbar.init(navContainer, {\n        plugins: {\n            overscroll: {},\n        },\n    });\n\n    var options = Array.prototype.slice.call(document.querySelectorAll('.nav-multiple li'));\n\n    function setValue() {\n        var brands = options.filter(function (item) {\n            return item.active;\n        }).map(function (item) {\n            return item.querySelector('span').innerHTML;\n        });\n        var input = document.querySelector('input[name=\"Brands\"]');\n        input.value = brands.length > 0 ? brands.join(', ') : null;\n        console.log('setValue', brands, input.value);\n        // console.log('setValue', input.value, input);\n    }\n\n    options.filter(function (option, index) {\n        function onToggle(e) {\n            option.active = !option.active;\n            if (option.active) {\n                option.addClass('active');\n            } else {\n                option.removeClass('active');\n            }\n            setValue();\n        }\n\n        function onMouseToggle(e) {\n            option.removeEventListener('touchstart', onTouchToggle);\n            onToggle(e);\n        }\n\n        function onTouchToggle(e) {\n            option.removeEventListener('mousedown', onMouseToggle);\n            onToggle(e);\n        }\n        option.addEventListener('mousedown', onMouseToggle);\n        option.addEventListener('touchstart', onTouchToggle);\n    });\n\n}());\n/* global window, document, console, TweenLite */\n\n(function () {\n    'use strict';\n\n    var isTouch = false;\n    var isAndroid = navigator.userAgent.toLowerCase().indexOf(\"android\") > -1;\n    var isMac = navigator.platform.toLowerCase().indexOf('mac') !== -1;\n    var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n    var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n    var isFirefox = /Firefox/.test(navigator.userAgent);\n    var isClippable = detectClippath();\n\n    var useImages = isAndroid;\n\n    var fps, totalFrames, duration;\n\n    var currentTime = 0.0;\n    var pageOffset = 0.0;\n    var currentMarker = 0.0;\n    var concurrent = 15;\n\n    var speed, mouseDownY;\n    var scrolling = {\n        pow: 0,\n        end: 0,\n        previous: 0,\n        direction: 0,\n        diff: 0,\n        index: 0,\n    };\n\n    var eventOptions = window.PointerEvent ? {\n        passive: false,\n        capture: false,\n    } : undefined;\n\n    var body = document.querySelector('body');\n    var page = document.querySelector('.page');\n    var overview = document.querySelector('.section-overview');\n    var preloadPercent = document.querySelector('.preload .percent');\n    var track = document.querySelector('.track');\n    var steps = document.querySelector('.steps');\n    var playerTime = document.querySelector('.player-time');\n    var markerTime = document.querySelector('.marker-time');\n    var scrolltos = Array.prototype.slice.call(document.querySelectorAll('[scroll-to]'));\n    var markers = Array.prototype.slice.call(document.querySelectorAll('[data-marker]')).map(function (node, index) {\n        function onDown(e) {\n            var skip = Math.abs(scrolling.index - index) > 1;\n            setIndex(index, skip);\n            if (skip) {\n                scrolling.pow = scrolling.end - 1;\n            }\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            return false;\n        }\n\n        function onMouseDown(e) {\n            node.removeEventListener('touchstart', onTouchDown);\n            return onDown(e);\n        }\n\n        function onTouchDown(e) {\n            isTouch = true;\n            node.removeEventListener('mousedown', onMouseDown);\n            return onDown(e);\n        }\n        node.addEventListener('mousedown', onMouseDown);\n        node.addEventListener('touchstart', onTouchDown);\n        return parseFloat(node.getAttribute('data-marker'));\n    });\n    // console.log('markers', markers);\n\n    var disc = {\n        source: window.options.disc,\n        video: document.querySelector('.overview-disc .video'),\n        pictures: document.querySelector('.overview-disc .pictures'),\n        captionItems: Array.prototype.slice.call(document.querySelectorAll('.overview-disc .captions-item')),\n        images: [],\n    };\n    var rim = {\n        source: window.options.rim,\n        video: document.querySelector('.overview-rim .video'),\n        pictures: document.querySelector('.overview-rim .pictures'),\n        captionItems: Array.prototype.slice.call(document.querySelectorAll('.overview-rim .captions-item')),\n        images: [],\n    };\n    var codecs = {\n        webm: 'video/webm; codecs=\"vp8\"',\n        mp4: 'video/mp4; codecs=\"avc1.4d001e\"',\n    }\n    fps = window.options.fps;\n    totalFrames = window.options.frames;\n    duration = totalFrames / fps;\n    if (useImages) {\n        fps = 10;\n        totalFrames = 502;\n    }\n    var targetItem = null;\n\n    var scrollbar = InitScrollbar();\n    var isLoading = false,\n        isLoaded = false,\n        isSwitching = false;\n\n    function StartLoading() {\n        body.addClass('loading');\n        isLoading = true;\n        if (useImages) {\n            body.addClass('use-pictures');\n            disc.player = disc.pictures;\n            disc.player.currentTime = 0.0;\n            disc.player.duration = duration;\n            disc.player.play = disc.player.pause = function () {};\n            disc.player.setTime = function () {\n                var i = Math.max(1, Math.min(totalFrames, Math.round(disc.player.currentTime * fps)));\n                if (disc.player.index !== i) {\n                    disc.player.index = i;\n                    // console.log(i, disc.pictures[i]);\n                    disc.player.src = disc.images[i];\n                }\n            };\n            rim.player = rim.pictures;\n            rim.player.currentTime = 0.0;\n            rim.player.duration = duration;\n            rim.player.play = rim.player.pause = function () {};\n            rim.player.setTime = function () {\n                var i = Math.max(1, Math.min(totalFrames, Math.round(rim.player.currentTime * fps)));\n                if (rim.player.index !== i) {\n                    rim.player.index = i;\n                    // console.log(i, rim.pictures[i]);\n                    rim.player.src = rim.images[i];\n                }\n            };\n            PreloadImages();\n        } else {\n            body.addClass('use-video');\n            disc.player = disc.video;\n            disc.player.setTime = function () {};\n            rim.player = rim.video;\n            rim.player.setTime = function () {};\n            PreloadVideo();\n        }\n    }\n\n    function addSteps() {\n        for (var i = 0; i < markers.length; i++) {\n            var marker = markers[i];\n            var html = '<div class=\"step\" style=\"top:' + (marker / duration * 100).toFixed(3) + '%\"></div>';\n            steps.innerHTML += html;\n            // console.log(steps, html);\n        }\n    }\n\n    function setProgress(loaded, total) {\n        var progress = loaded / total;\n        var percent = parseInt(progress * 100);\n        if (preloadPercent) {\n            preloadPercent.setAttribute('style', 'width:' + percent + '%;');\n            // console.log(percent);\n        }\n    }\n\n    function PreloadImages() {\n        // solo 1 video\n        var total = totalFrames * 2;\n        var loaded = 0;\n        var frame = 0;\n        var requests = [];\n\n        function onCheckNextImage() {\n            while (requests.length < concurrent && frame < total) {\n                requests.push(true);\n                onLoadNextImage(++frame);\n            }\n        }\n\n        function onLoadNextImage(frame) {\n            var req = new XMLHttpRequest();\n            var num = frame,\n                framenum = frame;\n            var imageTarget = disc;\n            if (framenum > totalFrames) {\n                imageTarget = rim;\n                framenum = framenum - totalFrames;\n                num = framenum;\n            }\n            if (framenum < 10) {\n                num = '00' + framenum;\n            } else if (framenum < 100) {\n                num = '0' + framenum;\n            }\n            req.open('GET', imageTarget.source.jpg.split('{0}').join(num), true);\n            req.responseType = 'blob';\n            req.onload = function () {\n                if (this.status === 200) {\n                    var blob = this.response;\n                    var image = URL.createObjectURL(blob); // IE10+\n                    imageTarget.images[framenum] = image;\n                    loaded++;\n                    requests.shift();\n                    setProgress(loaded, total);\n                    if (loaded === total) {\n                        targetItem.player.setTime();\n                        Init();\n                    } else {\n                        onCheckNextImage();\n                    }\n                }\n            };\n            req.onerror = function (e) {\n                console.log('preload.error', e);\n            };\n            req.send();\n        }\n        onCheckNextImage();\n    }\n\n    function InitVideo() {\n        if (isAndroid) {\n            Init();\n        } else {\n            var promise = targetItem.video.play();\n            if (promise !== undefined) {\n                promise.then(function () {\n                    Init();\n                }).catch(function (e) {\n                    console.log('video.error', e, targetItem.video.error);\n                });\n            } else {\n                Init();\n            }\n        }\n    }\n\n    function getMediaSource(data, target, type, supported) {\n        console.log('getMediaSource', supported, type);\n        var source = null;\n        if (supported) {\n            target.mediaSource = new MediaSource();\n            target.mediaSource.addEventListener('sourceopen', function () {\n                console.log('mediaSource.sourceopen');\n                target.sourceBuffer = target.mediaSource.addSourceBuffer(codecs[type]);\n                target.sourceBuffer.addEventListener('updateend', function () {\n                    console.log('sourceBuffer.updateend');\n                }, false);\n                console.log('sourceBuffer.updating', target.sourceBuffer.updating);\n                var array = new Uint8Array(data);\n                if (!target.sourceBuffer.updating) {\n                    target.sourceBuffer.appendBuffer(array);\n                    console.log('sourceBuffer.appendBuffer');\n                }\n            }, false);\n            source = URL.createObjectURL(target.mediaSource);\n        } else {\n            source = URL.createObjectURL(data);\n        }\n        return source;\n    }\n\n    function PreloadVideoTarget(target, callback) {\n        var type = (isChrome || isFirefox) && !isMac ? 'webm' : 'mp4';\n        var supported = 'MediaSource' in window && MediaSource.isTypeSupported(codecs[type]);\n\n        function doSource(source) {\n            /*\n            target.video.addEventListener('progress', function (e) {\n                // console.log('video.progress', e, target.video.duration);\n            }, false);\n            */\n            target.video.addEventListener('error', function (e) {\n                console.log('video.error', e, target.video.error);\n            });\n            target.video.autoplay = true;\n            target.video.mute = true;\n            target.video.src = source;\n            if (callback) {\n                callback();\n            }\n        }\n        var req = new XMLHttpRequest();\n        req.open('GET', type === 'webm' ? target.source.webm : target.source.mp4, true);\n        req.responseType = supported ? 'arraybuffer' : 'blob';\n        req.onprogress = function (e) {\n            setProgress(e.loaded, e.total);\n        };\n        req.onload = function () {\n            if (this.status === 200) {\n                // var source = URL.createObjectURL(this.response); // IE10+\n                var source = getMediaSource(this.response, target, type, supported);\n                doSource(source);\n            }\n        };\n        req.onerror = function (e) {\n            console.log('preload.error', e);\n        };\n        req.send();\n    }\n\n    function PreloadVideo() {\n        PreloadVideoTarget(disc, function () {\n            PreloadVideoTarget(rim, function () {\n                InitVideo();\n            });\n        });\n    }\n\n    function Init() {\n        isLoading = false;\n        isLoaded = true;\n        body.removeClass('loading');\n        body.addClass('loaded');\n        body.addClass('submenu');\n        scrolling.pow = scrolling.end = 0;\n        speed = 0.0;\n        mouseDownY = null;\n        rim.video.pause();\n        disc.video.pause();\n        if (steps) {\n            addSteps();\n        }\n        setIndex(1);\n        onDidScroll(getOffsetY());\n    }\n\n    function setCaptionItems(direction) {\n        targetItem.captionItems.filter(function (caption, index) {\n            var distance = markers[index] - scrolling.pow;\n            if (Math.abs(distance) > 2) {\n                caption.setAttribute('class', 'captions-item');\n            } else if (direction > 0) {\n                // console.log(distance, index);\n                caption.setAttribute('class', 'captions-item ' + (distance > -0.1 ? 'entering' : 'exiting'));\n            } else if (direction < 0) {\n                // console.log(distance, index);\n                caption.setAttribute('class', 'captions-item ' + (distance < 0.1 ? 'entering' : 'exiting'));\n            }\n        });\n    }\n\n    function onPause(target) {\n        if (target.player && target.player.duration && !target.player.paused) {\n            target.player.pause();\n        }\n    }\n\n    function onLoop(target) {\n        if (target.player && target.player.duration) {\n            if (mouseMove) {\n                onPause(target);\n                scrolling.pow = scrolling.end;\n                target.player.currentTime = scrolling.pow;\n                target.player.setTime();\n            } else {\n                if (scrolling.end !== scrolling.pow) {\n                    onPause(target);\n                    var diff = scrolling.end - scrolling.pow;\n                    var step = 1.0 / fps;\n                    if (Math.abs(diff) < step) {\n                        scrolling.pow = scrolling.end;\n                    } else {\n                        var direction = diff ? diff / Math.abs(diff) : 0;\n                        scrolling.pow += step * direction;\n                    }\n                    var currentTime = Math.round(scrolling.pow / step) * step + 0.00001;\n                    target.player.currentTime = currentTime;\n                    target.player.setTime();\n                }\n            }\n            setTop(playerTime, scrolling.pow);\n            setMarkers(scrolling.pow);\n            setCaptionItems(scrolling.direction);\n        }\n    }\n\n    var currentIndex = -1;\n\n    function setMarkers(pow) {\n        var markerIndex = 0;\n        markers.filter(function (marker, i) {\n            if (marker <= pow) {\n                markerIndex = i;\n            }\n        });\n        if (currentIndex !== markerIndex) {\n            currentIndex = markerIndex;\n            Array.prototype.slice.call(document.querySelectorAll('[data-marker]')).filter(function (node, i) {\n                if (i === currentIndex) {\n                    node.addClass('active');\n                } else {\n                    node.removeClass('active');\n                }\n            });\n        }\n    }\n\n    function setTop(node, pow) {\n        if (node && targetItem.player.duration) {\n            var i = 0,\n                fpow = 0,\n                tpow = 0;\n            markers.filter(function (marker, index) {\n                if (marker <= pow) {\n                    i = index;\n                }\n            });\n            fpow = markers[i];\n            tpow = i < markers.length - 1 ? markers[i + 1] : fpow;\n            var step = 60;\n            pow = fpow !== tpow ? ((pow - fpow) / (tpow - fpow)) : 0;\n            var top = step / 2 + step * i + pow * step;\n            node.setAttribute('style', 'top:' + (top - 10) + 'px;');\n        }\n    }\n\n    var timeapi = window.peformance ? performance : Date;\n    var fpsInterval = 1000 / fps,\n        now = 0,\n        then = 0,\n        elapsed = 0;\n\n    function animate() {\n        now = timeapi.now();\n        elapsed = now - then;\n        if (elapsed > fpsInterval) {\n            then = now - (elapsed % fpsInterval);\n            if (targetItem) {\n                // onLoop(targetItem);\n                // onPause(targetItem === disc ? rim : disc);\n                onLoop(disc);\n                onLoop(rim);\n            }\n            if (iOS || isAndroid) {\n                overview.setAttribute('style', 'width: ' + (window.innerWidth) + 'px; height: ' + (window.innerHeight - (window.innerWidth < window.innerHeight ? 57 : 0)) + 'px;');\n            }\n        }\n        requestAnimationFrame(animate);\n    }\n\n    function onTrack(e) {\n        if (isLoaded && !isSwitching) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            if (e.target.getAttribute('class') === 'step') {\n                var nodes = Array.prototype.slice.call(e.target.parentNode.children);\n                var index = nodes.indexOf(e.target);\n                setIndex(index);\n            }\n            return false;\n        }\n    }\n\n    function getY(e) {\n        var y = 0.0;\n        if (e.touches) {\n            y = e.touches[0].pageY;\n        } else {\n            y = e.clientY;\n        }\n        return Math.max(0, Math.min(window.innerHeight, y));\n    }\n\n    function getOffsetY() {\n        if (scrollbar) {\n            return scrollbar.offset.y;\n        } else {\n            return window.pageYOffset || document.documentElement.scrollTop || 0;\n        }\n    }\n\n    function shouldLockScroll(direction) {\n        var offsetY = getOffsetY();\n        var flag = (scrolling.pow < targetItem.player.duration && direction === 1) || (offsetY < 10 && direction === -1);\n        if (flag) {\n            body.addClass('locked');\n        } else {\n            body.removeClass('locked');\n        }\n        // console.log('shouldLockScroll', offsetY, direction);\n        return flag;\n    }\n\n    var mouseMove = false,\n        previousY,\n        scrubStart = 0.0;\n\n    function onDown(e) {\n        if (getOffsetY() < 10) {\n            // console.log('scrub.onDown');\n            var y = getY(e);\n            previousY = null;\n            mouseDownY = y;\n            scrubStart = scrolling.end || 0;\n        }\n    }\n\n    function onMove(e) {\n        if (isSwitching) {\n            previousY = null;\n            mouseDownY = null;\n            return;\n        }\n        if (mouseDownY) {\n            var direction = 0;\n            if (isLoaded) {\n                var y = getY(e);\n                // console.log('onMove', y);\n                previousY = y;\n                if (Math.abs(mouseDownY - y) > 1) {\n                    var min = 0,\n                        max = 1,\n                        pow = (mouseDownY - y) / (window.innerHeight * 3) * targetItem.player.duration;\n                    scrolling.end = Math.max(0, Math.min(targetItem.player.duration, scrubStart + pow));\n                    // console.log('onMove', scrubStart, pow);\n                    mouseMove = true;\n                }\n                direction = y - mouseDownY > 0 ? -1 : 1;\n            }\n            if (!isLoaded || shouldLockScroll(direction)) {\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                return false;\n            }\n        }\n    }\n\n    function onUp(e) {\n        if (mouseMove && isLoaded) {\n            var y = previousY;\n            // console.log('onUp', y);\n            var diff = (mouseDownY - y);\n            // console.log(y, mouseDownY, diff);\n            if (diff) {\n                var direction = diff / Math.abs(diff);\n                var time = scrolling.end;\n                markers.filter(function (item, index) {\n                    if (time > item && time < markers[index + 1]) {\n                        scrolling.index = index + (direction > 0 ? 0 : 1);\n                        // console.log('scrolling.index', scrolling.index);\n                    }\n                });\n                setNearestDirection(direction);\n            }\n        }\n        mouseMove = false;\n        mouseDownY = null;\n    }\n\n    function onWheel(e) {\n        var wheelDirection = e.deltaY / Math.abs(e.deltaY);\n        if (isLoaded) {\n            setNearestDirection(wheelDirection);\n        }\n        if (!isLoaded || shouldLockScroll(wheelDirection)) {\n            e.preventDefault();\n            e.stopPropagation();\n            e.stopImmediatePropagation();\n            // console.log('onWheel', e);\n            return false;\n        }\n    }\n\n    function setIndex(index, skip) {\n        if (index !== scrolling.index) {\n            var direction = (index - scrolling.index) / Math.abs(index - scrolling.index);\n            var previousMarker = markers[scrolling.index];\n            var nextMarker = markers[index];\n            var currentTime = scrolling.pow;\n            if (skip || currentTime >= Math.min(previousMarker, nextMarker) && currentTime <= Math.max(previousMarker, nextMarker)) {\n                scrolling.index = index;\n                scrolling.direction = direction;\n                scrolling.end = markers[scrolling.index];\n                setTop(markerTime, scrolling.end);\n            }\n            // console.log('setIndex', previousMarker, nextMarker, currentTime);\n        }\n    }\n\n    function setNearestDirection(direction) {\n        var index = scrolling.index;\n        if (direction === 1) {\n            index = Math.min(markers.length - 1, scrolling.index + 1);\n        } else {\n            index = Math.max(0, scrolling.index - 1);\n        }\n        setIndex(index);\n    }\n\n    function getNearestMarker(time) {\n        var marker = markers.reduce(function (prev, curr) {\n            return (Math.abs(curr - time) < Math.abs(prev - time) ? curr : prev);\n        });\n        return marker;\n    }\n\n    function getMarker(forward) {\n        var marker = null;\n        if (Math.abs(currentMarker - targetItem.player.currentTime) < 1.0) {\n            markers.filter(function (item) {\n                if (marker === null && (item > currentMarker || !forward)) {\n                    marker = item;\n                }\n            });\n        } else {\n            marker = currentMarker;\n        }\n        // console.log(currentMarker, targetItem.player.currentTime);\n        return marker;\n    }\n\n    function onMouseDown(e) {\n        removeTouchEvents();\n        onDown(e);\n    }\n\n    function onTouchDown(e) {\n        isTouch = true;\n        removeMouseEvents();\n        onDown(e);\n    }\n\n    function addMouseEvents() {\n        if (track) {\n            track.addEventListener('mousedown', onTrack, eventOptions);\n        }\n        overview.addEventListener('mousedown', onMouseDown, eventOptions);\n        overview.addEventListener('mousemove', onMove, eventOptions);\n        overview.addEventListener('wheel', onWheel);\n        window.addEventListener('mouseup', onUp, eventOptions);\n    }\n\n    function removeMouseEvents() {\n        if (track) {\n            track.removeEventListener('mousedown', onTrack);\n        }\n        overview.removeEventListener('mousedown', onMouseDown);\n        overview.removeEventListener('mousemove', onMove);\n        window.removeEventListener('mouseup', onUp);\n    }\n\n    function addTouchEvents() {\n        if (track) {\n            track.addEventListener('touchstart', onTrack, eventOptions);\n        }\n        overview.addEventListener('touchstart', onTouchDown, eventOptions);\n        overview.addEventListener('touchmove', onMove, eventOptions);\n        overview.addEventListener('touchend', onUp, eventOptions);\n    }\n\n    function removeTouchEvents() {\n        if (track) {\n            track.removeEventListener('touchstart', onTrack);\n        }\n        overview.removeEventListener('touchstart', onTouchDown);\n        overview.removeEventListener('touchmove', onMove);\n        overview.removeEventListener('touchend', onUp);\n    }\n\n    var scrollbarPaused = false;\n\n    function onDidScroll(top) {\n        if (isLoaded) {\n            var activeNode = scrolltos.filter(function (node, index) {\n                var href = node.getAttribute('href');\n                var target = document.querySelector(href);\n                node.removeClass('active');\n                if (target && target.style.display !== 'none') {\n                    var y = target.offsetTop - top;\n                    node.top = y;\n                    return true;\n                } else {\n                    return false;\n                }\n            }).reduce(function (a, b) {\n                if (Math.abs(b.top) < Math.abs(a.top) && b.top < 80) {\n                    return b;\n                } else {\n                    return a;\n                }\n            });\n            if (activeNode) {\n                activeNode.addClass('active');\n            }\n        }\n    }\n\n    function onScroll(e) {\n        onDidScroll(getOffsetY());\n    }\n\n    function detectClippath() {\n        var test = {\n            props: ['clip-path', '-webkit-clip-path', 'shape-inside'],\n            value: 'polygon(50% 0%, 0% 100%, 100% 100%)'\n        };\n        if ('CSS' in window && 'supports' in window.CSS) {\n            for (var i = 0; i < test.props.length; i++) {\n                if (window.CSS.supports(test.props[i], test.value)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n\n    function InitScrollbar() {\n        var enabled = !iOS && !isAndroid;\n\n        function onChange(e) {\n            var object = {\n                offset: e.offset,\n                limit: e.limit,\n                container: {\n                    width: page.offsetWidth,\n                    height: page.offsetHeight,\n                }\n            };\n            onDidScroll(getOffsetY());\n        }\n        if (enabled) {\n            Scrollbar.use(window.OverscrollPlugin);\n            var scrollbar = Scrollbar.init(page, {\n                plugins: {\n                    overscroll: {},\n                },\n            });\n\n            scrollbar.addListener(onChange);\n            return scrollbar;\n        } else {\n            window.onscroll = onScroll;\n            return false;\n        }\n    }\n\n    function InitSvg() {\n        var svgs = Array.prototype.slice.call(document.querySelectorAll('img.svg'));\n        svgs = svgs.map(function (node) {\n            var classes = node.getAttribute('class');\n            var src = node.getAttribute('src');\n            var req = new XMLHttpRequest();\n            req.open('GET', src, true);\n            req.responseType = 'text';\n            req.onload = function () {\n                if (this.status === 200) {\n                    // Get the SVG tag, ignore the rest\n                    var parentNode = node.parentNode;\n                    parentNode.innerHTML = this.responseText;\n                    var svg = parentNode.querySelector('svg');\n                    // console.log(svg);\n                    svg.setAttribute('class', classes);\n                    // Remove any invalid XML tags as per http://validator.w3.org\n                    svg.setAttribute('xmlns:a', null);\n                    // Replace image with new SVG\n                    // $img.replaceWith($svg);\n                }\n            };\n            req.onerror = function (e) {\n                console.log('svg.error', e);\n            };\n            req.send();\n        });\n    }\n\n    function InitLoading() {\n        var loading = document.querySelector('.switch-loading');\n        if (loading) {\n            var letters = loading.innerHTML;\n            loading.innerHTML = '<span>' + letters.split('').join('</span><span>') + '</span>';\n        }\n    }\n\n    function InitScrollTo() {\n        scrolltos.filter(function (node, index) {\n            node.addEventListener('click', function (e) {\n                //\n                var toggle = document.querySelector('.btn-toggle');\n                toggle.active = false;\n                body.removeClass('submenu-active');\n                toggle.removeClass('active');\n                //                \n                var href = node.getAttribute('href');\n                var target = document.querySelector(href);\n                if (target) {\n                    var top = target.offsetTop;\n                    scrollbar.scrollTo(0, top, 600, {\n                        callback: function () {\n                            // console.log('ScrollTo.complete', top);\n                        },\n                        // easing: easing.easeOutBack,\n                    });\n                }\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                return false;\n            });\n        });\n    }\n\n    function InitSwitcher() {\n        var overview = document.querySelector('.section-overview');\n        var switcher = document.querySelector('.overview-switch');\n        var slider = document.querySelector('.switch-slider');\n        var discOverview = document.querySelector('.overview-disc');\n        var rimOverview = document.querySelector('.overview-rim');\n        var discCover = discOverview.querySelector('.cover');\n        var rimCover = rimOverview.querySelector('.cover');\n        var discCoverImg = discCover.querySelector('img');\n        var rimCoverImg = rimCover.querySelector('img');\n        var width = slider.offsetWidth;\n\n        var pow = {\n                x: 0,\n                y: 0\n            },\n            start = {\n                x: 0,\n                y: 0\n            },\n            direction = 0,\n            down, move;\n\n        var x2 = 50;\n\n        function getPolygons(v) {\n            v = (v / 2) + 0.5;\n            v = Math.min(1, Math.max(0, v));\n            var x1 = v * 100;\n            if (Math.abs(x1 - x2) < 0.1) {\n                x2 = x1;\n            } else {\n                x2 += (x1 - x2) / 20;\n            }\n            return {\n                rim: 'polygon(' + x1 + '% 0, 100% 0, 100% 100%, ' + x2 + '% 100%)',\n                disc: 'polygon(0 0, ' + x1 + 0.01 + '% 0, ' + x2 + 0.01 + '% 100%, 0 100%)'\n            };\n        }\n\n        function onUpdate() {\n            slider.setAttribute('style', 'transform: translateX(' + (pow.x * width / 2) + 'px)');\n            if (isTouch || !isClippable) {\n                var v = (pow.x / 2) + 0.5;\n                v = Math.min(1, Math.max(0, v));\n                discOverview.setAttribute('style', 'opacity:' + v + ';');\n                rimOverview.setAttribute('style', 'opacity:' + (1 - v) + ';');\n            } else {\n                var polygons = getPolygons(pow.x);\n                discOverview.setAttribute('style', 'shape-inside: ' + polygons.disc + '; clip-path: ' + polygons.disc + '; -webkit-clip-path: ' + polygons.disc + ';');\n                rimOverview.setAttribute('style', 'shape-inside: ' + polygons.rim + '; clip-path: ' + polygons.rim + '; -webkit-clip-path: ' + polygons.rim + ';');\n                var s1 = 1.1 - (pow.x + 1) / 2 * 0.1;\n                var s2 = 1 + (pow.x + 1) / 2 * 0.1;\n                var b1 = 20 * (pow.x < 0 ? Math.abs(pow.x) : 0) + 'px';\n                var b2 = 20 * (pow.x > 0 ? Math.abs(pow.x) : 0) + 'px';\n                var o1 = (pow.x < 0 ? Math.abs(pow.x) : 1);\n                var o2 = (pow.x > 0 ? Math.abs(pow.x) : 1);\n                // discCover.setAttribute('style', 'transform: scale(' + s1 + '); filter: blur(' + b1 + ');');\n                // rimCover.setAttribute('style', 'transform: scale(' + s2 + '); filter: blur(' + b2 + ');');\n                // discCover.setAttribute('style', 'transform: scale(' + s1 + '); opacity: ' + o1 + ';');\n                // rimCover.setAttribute('style', 'transform: scale(' + s2 + '); opacity: ' + o2 + ';');\n                discCover.setAttribute('style', 'transform: scale(' + s1 + ');');\n                rimCover.setAttribute('style', 'transform: scale(' + s2 + ');');\n            }\n        }\n\n        function animate() {\n            onUpdate();\n            requestAnimationFrame(animate);\n        }\n\n        function onDown(e) {\n            if (!isLoading) {\n                isSwitching = true;\n                start.x = pow.x;\n                start.y = pow.y;\n                down = getMouse(e);\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                return false;\n            }\n        }\n\n        function onMove(e) {\n            if (down) {\n                move = getMouse(e);\n                var end = start.x + (move.x - down.x) / (width / 2);\n                end = Math.max(-1, Math.min(1, end));\n                direction = end > pow.x ? 1 : -1;\n                pow.x = end;\n                onUpdate();\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                return false;\n            }\n        }\n\n        var positions = [-1, 0, 1];\n\n        function onUp(e) {\n            if (move) {\n                move = null;\n                down = null;\n                var end = positions.reduce(function (a, b) {\n                    if (Math.abs(a - pow.x) < Math.abs(b - pow.x)) {\n                        return a;\n                    } else {\n                        return b;\n                    }\n                });\n                var shouldLoad = false;\n                if (end !== 0 && positions.length === 3) {\n                    positions = [-1, 1];\n                    shouldLoad = true;\n                }\n                if (positions.length == 2) {\n                    targetItem = end === -1 ? rim : disc;\n                }\n                direction = end > pow.x ? 1 : -1;\n                TweenLite.to(pow, 0.5, {\n                    x: end,\n                    ease: Power2.easeOut, // Elastic.easeOut,\n                    onUpdate: onUpdate,\n                    onComplete: function () {\n                        if (shouldLoad) {\n                            StartLoading();\n                        }\n                        isSwitching = false;\n                    },\n                });\n            } else {\n                isSwitching = false;\n            }\n            removeListeners();\n        }\n\n        function onResize() {\n            width = slider.offsetWidth;\n            onUpdate();\n        }\n\n        function onMouseDown(e) {\n            onDown(e);\n            addMouseListeners();\n        }\n\n        function onTouchDown(e) {\n            isTouch = true;\n            onDown(e);\n            addTouchListeners();\n        }\n\n        function addMouseListeners() {\n            overview.addEventListener('mousemove', onMove, eventOptions);\n            window.addEventListener('mouseup', onUp, eventOptions);\n        }\n\n        function addTouchListeners() {\n            overview.addEventListener('touchmove', onMove, eventOptions);\n            window.addEventListener('touchend', onUp, eventOptions);\n        }\n\n        function removeListeners() {\n            overview.removeEventListener('mousemove', onMove);\n            overview.removeEventListener('touchmove', onMove);\n            window.removeEventListener('mouseup', onUp);\n            window.removeEventListener('touchend', onUp);\n        }\n\n        var previousTarget = null;\n        var previousDirection = 0;\n        var tapped = false;\n        var buttons = Array.prototype.slice.call(document.querySelectorAll('.btn-overview'));\n        buttons.filter(function (btn, index) {\n            function onDown(e) {\n                if (!isLoading) {\n                    tapped = true;\n                    direction = index === 1 ? 1 : -1;\n                    targetItem = index === 1 ? disc : rim;\n                    previousTarget = targetItem;\n                    positions = [-1, 1];\n                    TweenLite.to(pow, 0.5, {\n                        x: direction,\n                        ease: Power2.easeOut, // Elastic.easeOut,\n                        onUpdate: onUpdate,\n                        onComplete: function () {\n                            if (!isLoaded) {\n                                StartLoading();\n                            }\n                        },\n                    });\n                }\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                return false;\n            }\n\n            function onMouseDown(e) {\n                btn.removeEventListener('touchstart', onTouchDown);\n                return onDown(e);\n            }\n\n            function onTouchDown(e) {\n                isTouch = true;\n                btn.removeEventListener('mousedown', onMouseDown);\n                return onDown(e);\n            }\n            btn.addEventListener('mousedown', onMouseDown, eventOptions);\n            btn.addEventListener('touchstart', onTouchDown, eventOptions);\n        });\n\n        function onHovering(e) {\n            if (!isSwitching) {\n                if (!isLoading && !isLoaded && !tapped) {\n                    var left = buttons[0].getBoundingClientRect();\n                    var right = buttons[1].getBoundingClientRect();\n                    var direction = 0;\n                    if (e.clientX > right.left) {\n                        direction = 1;\n                    } else if (e.clientX < left.right) {\n                        direction = -1;\n                    }\n                    if (previousDirection !== direction) {\n                        previousDirection = direction;\n                        previousTarget = targetItem;\n                        targetItem = direction === 1 ? disc : rim;\n                        TweenLite.to(pow, 0.5, {\n                            x: direction * 0.2,\n                            ease: Power2.easeOut, // Elastic.easeOut,\n                            onUpdate: onUpdate,\n                            onComplete: function () {},\n                        });\n                    }\n                } else {\n                    overview.removeEventListener('mousemove', onHovering);\n                }\n            }\n            // console.log('onHovering', previousDirection);\n        }\n\n        function onHoveringDown(e) {\n            if (!isSwitching && !isLoading && !isLoaded && !tapped && previousDirection !== 0) {\n                tapped = true;\n                direction = previousDirection;\n                targetItem = previousDirection === 1 ? disc : rim;\n                previousTarget = targetItem;\n                positions = [-1, 1];\n                TweenLite.to(pow, 0.5, {\n                    x: direction,\n                    ease: Power2.easeOut, // Elastic.easeOut,\n                    onUpdate: onUpdate,\n                    onComplete: function () {\n                        if (!isLoaded) {\n                            previousDirection = 0;\n                            StartLoading();\n                        }\n                    },\n                });\n            }\n            overview.removeEventListener('touchstart', onHoveringTouchDown);\n            overview.removeEventListener('mousedown', onHoveringMouseDown);\n        }\n\n        function onHoveringMouseDown(e) {\n            overview.removeEventListener('touchstart', onHoveringTouchDown);\n            return onHoveringDown(e);\n        }\n\n        function onHoveringTouchDown(e) {\n            isTouch = true;\n            overview.removeEventListener('mousedown', onHoveringMouseDown);\n            return onHoveringDown(e);\n        }\n\n        animate();\n        switcher.addEventListener('mousedown', onMouseDown, eventOptions);\n        switcher.addEventListener('touchstart', onTouchDown, eventOptions);\n        overview.addEventListener('mousemove', onMove);\n        overview.addEventListener('mousemove', onHovering);\n        overview.addEventListener('mousedown', onHoveringMouseDown);\n        overview.addEventListener('touchstart', onHoveringTouchDown);\n        window.addEventListener('resize', onResize);\n    }\n\n    function InitSwiper() {\n        var swiper = new Swiper('.swiper-container', {\n            direction: 'horizontal',\n            loop: false,\n            pagination: {\n                el: '.swiper-pagination',\n            },\n            navigation: {\n                nextEl: '.swiper-button-next',\n                prevEl: '.swiper-button-prev',\n            },\n        });\n        swiper.on('slideChange', function (e) {\n            // console.log('slide changed', swiper.activeIndex);\n            var buttons = Array.prototype.slice.call(document.querySelectorAll('.btn-spec'));\n            buttons.filter(function (button, index) {\n                if (index === swiper.activeIndex) {\n                    button.addClass('active');\n                } else {\n                    button.removeClass('active');\n                }\n            });\n        });\n        var buttons = Array.prototype.slice.call(document.querySelectorAll('.btn-spec'));\n        buttons.filter(function (button, index) {\n            function onClick() {\n                swiper.slideTo(index);\n            }\n            button.addEventListener('click', onClick);\n        });\n    }\n\n    function InitMenu() {\n        var toggle = document.querySelector('.btn-toggle');\n\n        function onDown(e) {\n            toggle.active = !toggle.active;\n            if (toggle.active) {\n                body.addClass('submenu-active');\n                toggle.addClass('active');\n            } else {\n                body.removeClass('submenu-active');\n                toggle.removeClass('active');\n            }\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            return false;\n        }\n\n        function onMouseDown(e) {\n            toggle.removeEventListener('touchstart', onTouchDown);\n            return onDown(e);\n        }\n\n        function onTouchDown(e) {\n            isTouch = true;\n            toggle.removeEventListener('mousedown', onMouseDown);\n            return onDown(e);\n        }\n        toggle.addEventListener('mousedown', onMouseDown);\n        toggle.addEventListener('touchstart', onTouchDown);\n    }\n\n    function InitHandlers() {\n        function onTestTouch(e) {\n            isTouch = true;\n            window.removeEventListener('touchstart', onTestTouch);\n        }\n        window.addEventListener('touchstart', onTestTouch);\n        window.requestAnimationFrame(animate);\n        addMouseEvents();\n        addTouchEvents();\n    }\n\n    InitSvg();\n    InitLoading();\n    InitScrollTo();\n    InitSwitcher();\n    InitSwiper();\n    InitMenu();\n    InitHandlers();\n\n}());"]}